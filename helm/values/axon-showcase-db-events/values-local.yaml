global:
  security:
    allowInsecureImages: true

fullnameOverride: axon-showcase-db-events

image:
  repository: bitnamilegacy/postgresql

auth:
  enablePostgresUser: false
  database: showcase-events
  username: showcase

primary:
  extraEnvVars:
    - name: "POSTGRESQL_MAX_CONNECTIONS"
      value: "400"
  persistence:
    enabled: false
  resources:
    requests:
      cpu: 0.5
      memory: 2.0Gi
    limits:
      cpu: 0.75
      memory: 3.0Gi
  networkPolicy:
    allowExternal: false
    allowExternalEgress: false
    ingressNSMatchLabels:
      name: monitoring
    ingressNSPodMatchLabels:
      prometheus: kps

metrics:
  enabled: true
  image:
    repository: bitnamilegacy/postgres-exporter
  collectors:
    wal: false
  serviceMonitor:
    enabled: true
    namespace: monitoring
    labels:
      release: kps
  resources:
    requests:
      cpu: 0.1
      memory: 16Mi
    limits:
      cpu: 0.2
      memory: 32Mi
